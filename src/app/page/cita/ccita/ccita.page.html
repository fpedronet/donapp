<ion-header class="header-toolbar">
  <ion-toolbar class="header-toolbar">
    <ion-title>
      CREAR CITA
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>    
  <form id="ngForm" [formGroup]="form" #frmGrupo="ngForm">
    <ion-list>

      <ion-item>
        <ion-label>{{tipoCita.vDescripcion}}</ion-label>
      </ion-item>

      <ion-item [disabled]="true">
          <ion-input name="nIdCita" type="text" formControlName="nIdCita" required>
          </ion-input>
      </ion-item>

      <ion-item>
        <ion-label>Departamento*</ion-label>
        <ion-select #DPTO interface="action-sheet" placeholder="Seleccione" formControlName="vIdDepartamento" (ionChange)="updateDpto(DPTO.value)" required>
          <ion-select-option *ngFor="let el of listaDepartamentos" [value]="el.vUbigeo">{{el.vNombre}}</ion-select-option>
        </ion-select>
      </ion-item>

      <ion-item>
        <ion-label>Provincia*</ion-label>
        <ion-select [disabled]="listaProvincias.length==0" interface="action-sheet" placeholder="Seleccione" formControlName="vIdProvincia" required>
          <ion-select-option *ngFor="let el of listaProvincias" [value]="el.vUbigeo">{{el.vNombre}}</ion-select-option>
        </ion-select>
      </ion-item>

      <!--DONACIÓN A BANCO-->
      <ion-item [disabled]="tipoCita.nIdTipoCita!==1">
        <ion-label>Banco*</ion-label>
        <ion-select [disabled]="listaBancos.length==0" interface="action-sheet" placeholder="Seleccione" formControlName="nIdBanco" required>
          <ion-select-option *ngFor="let el of listaBancos" [value]="el.nIdBanco">{{el.vDescripcion}}</ion-select-option>
        </ion-select>
      </ion-item>

      <!--DONACIÓN A CAMPAÑA-->
      <ion-item [disabled]="tipoCita.nIdTipoCita!==2">
        <ion-label>Campaña*</ion-label>
        <ion-select [disabled]="listaCampanas.length==0" interface="action-sheet" placeholder="Seleccione" formControlName="nIdCampana" required>
          <ion-select-option *ngFor="let el of listaCampanas" [value]="el.nIdCampana">{{el.vDescripcion}}</ion-select-option>
        </ion-select>
      </ion-item>

    </ion-list>
  </form>
</ion-content>

<ion-tab-bar>
  <ion-tab-button tab="account" (click)="irHome()">
    <ion-icon name="return-up-back-outline"></ion-icon>
    <ion-label>Regresar</ion-label>
  </ion-tab-button>
  <ion-tab-button tab="account" (click)="guardar()">
    <ion-icon name="save-outline"></ion-icon>
    <ion-label>Guardar</ion-label>
  </ion-tab-button>
</ion-tab-bar>
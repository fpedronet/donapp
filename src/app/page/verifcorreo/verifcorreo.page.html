<ion-header class="header-toolbar">
  <ion-toolbar class="header-toolbar">
    <ion-title>
      VERIFICAR CORREO
    </ion-title>
    <ion-buttons  slot="start">
      <ion-menu-button class="white-btn" menu="main-menu"></ion-menu-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <form id="ngForm" [formGroup]="form" #frmGrupo="ngForm">
    <ion-list>
      <h2 class="title-label">Escribe el código</h2>
    </ion-list>
    <ion-row>
      <ion-col>
        <span>
          Se acaba de enviar un correo electrónico con un código de verificación a:<br>{{correo}}<br>(Vigencia: {{minVigencia}} minutos)
        </span>
      </ion-col>
    </ion-row>
    <ion-row text-center>
      <ion-col size="3">
        <ion-input name="vCar1" formControlName="vCar1" #otp1 required maxLength="1" (keyup)="otpController($event,otp2,'')"></ion-input>
      </ion-col>
      <ion-col size="3">
        <ion-input name="vCar2" formControlName="vCar2" #otp2 required maxLength="1" (keyup)="otpController($event,otp3,otp1)"></ion-input>
      </ion-col>
      <ion-col size="3">
        <ion-input name="vCar3" formControlName="vCar3" #otp3 required maxLength="1" (keyup)="otpController($event,otp4,otp2)"></ion-input>
      </ion-col>
      <ion-col size="3">
        <ion-input name="vCar4" formControlName="vCar4" #otp4 required maxLength="1" (keyup)="otpController($event,'',otp3)"></ion-input>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col>
        <ion-button color="danger" expand="block" (click)="verificarCodigo()" [disabled]="codigoCompleto().length !== 4">
          Continuar
        </ion-button>
      </ion-col>
    </ion-row>
    <ion-row *ngIf="timerVisible">
      <ion-col>
        <ion-button color="light" expand="block" (click)="enviarCodigo()" [disabled]="disableResend">
          Reenviar código en {{timeHHmm(timeResend)}}
        </ion-button>
      </ion-col>
    </ion-row>
  </form>
  
</ion-content>
